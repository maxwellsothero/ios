(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3LUQ":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("mrSG"),o=r("fXoL"),s=r("TEn/");let i=(()=>{class e{constructor(e,t){this.alertCtrl=e,this.toastCtrl=t}toast(e,t="top"){return Object(n.a)(this,void 0,void 0,(function*(){const r=yield this.toastCtrl.create({message:e,position:t,duration:3e3,color:"dark"});yield r.present()}))}alert(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const r=yield this.alertCtrl.create({header:e,message:t,buttons:["ok"],backdropDismiss:!1});yield r.present()}))}confirm(e,t,r){return Object(n.a)(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:e,message:t,mode:"md",cssClass:"custom-alert-message",buttons:[{text:"N\xe3o",role:"Cancel",handler:()=>{console.log("Confirm:Say:No")}},{text:"Sim",handler:()=>{r()}}]});yield n.present()}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](s.AlertController),o["\u0275\u0275inject"](s.ToastController))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"N+K7":function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("mrSG"),o=r("tk/3"),s=r("fXoL"),i=r("3LUQ"),a=r("TEn/");let c=(()=>{class e{constructor(e){this.loadingCtrl=e,this.spinner=null}Show(e){return Object(n.a)(this,void 0,void 0,(function*(){null===this.spinner&&(this.spinner=yield this.loadingCtrl.create({message:e||"Carregando...",mode:"md",spinner:"circles"}),yield this.spinner.present())}))}Hide(){null!=this.spinner&&(this.spinner.dismiss(),this.spinner=null)}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](a.LoadingController))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=r("tyNb"),l=r("eAEk");let p=(()=>{class e{constructor(e,t,r,n,o){this.http=e,this.alertSrv=t,this.spinnerSrv=r,this.router=n,this.localStorage=o}createHeader(e){return Object(n.a)(this,void 0,void 0,(function*(){return e||(e=new o.e),e=(e=e.append("Content-Type","application/json")).append("Accept","application/json")}))}get(e,t=!0,r="json"){return Object(n.a)(this,void 0,void 0,(function*(){const o=yield this.createHeader();return new Promise(s=>Object(n.a)(this,void 0,void 0,(function*(){try{if(t&&(yield this.spinnerSrv.Show()),"json"===r){const t=yield this.http.get(e,{headers:o}).toPromise();s({success:!0,data:t,error:void 0,headers:{}})}else{const t=yield this.http.get(e,{headers:o,responseType:"blob"}).toPromise();s({success:!0,data:t,error:void 0,headers:{}})}t&&(yield this.spinnerSrv.Hide())}catch(n){401===n.status||0===n.status&&this.router.navigate(["/try-again"]),t&&(yield this.spinnerSrv.Hide()),s({success:!1,data:{},error:n,headers:{}})}})))}))}post(e,t,r){return Object(n.a)(this,void 0,void 0,(function*(){const o=yield this.createHeader(r);return new Promise(r=>Object(n.a)(this,void 0,void 0,(function*(){try{yield this.spinnerSrv.Show();const n=yield this.http.post(e,t,{headers:o,observe:"response"}).toPromise();r({success:!0,data:n.body,error:void 0,headers:n.headers}),yield this.spinnerSrv.Hide()}catch(n){yield this.spinnerSrv.Hide(),r({success:!1,data:{},error:n,headers:{}})}})))}))}patch(e,t,r){return Object(n.a)(this,void 0,void 0,(function*(){const o=yield this.createHeader(r);return new Promise(r=>Object(n.a)(this,void 0,void 0,(function*(){try{yield this.spinnerSrv.Show();const n=yield this.http.patch(e,t,{headers:o,observe:"response"}).toPromise();r({success:!0,data:n.body,error:void 0,headers:n.headers}),yield this.spinnerSrv.Hide()}catch(n){yield this.spinnerSrv.Hide(),404===n.status&&(yield this.alertSrv.alert("Aten\xe7\xe3o",n.error)),r({success:!1,data:{},error:n,headers:{}})}})))}))}delete(e){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.createHeader();return new Promise(r=>Object(n.a)(this,void 0,void 0,(function*(){try{yield this.spinnerSrv.Show();const n=yield this.http.delete(e,{headers:t}).toPromise();r({success:!0,data:n,error:void 0,headers:{}}),yield this.spinnerSrv.Hide()}catch(n){yield this.spinnerSrv.Hide(),r({success:!1,data:{},error:n,headers:{}})}})))}))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](o.b),s["\u0275\u0275inject"](i.a),s["\u0275\u0275inject"](c),s["\u0275\u0275inject"](d.g),s["\u0275\u0275inject"](l.a))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},X2iB:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("AytR"),o=r("fXoL"),s=r("N+K7");let i=(()=>{class e extends class{constructor(e,t){this.url=e,this.http=t,this.urlBase="",this.spinner=!1,this.urlBase=`${n.a.apiUrl}/${this.url}`}GetAll(e){return this.http.get(this.urlBase+e,this.spinner)}GetById(e,t=1,r=""){return this.http.get(`${this.urlBase}/${e}`,this.spinner)}create(e){return this.http.post(this.urlBase,e)}update(e,t){return this.http.patch(`${this.urlBase}/${t}`,e)}delete(e){return this.http.delete(`${this.urlBase}/${e}`)}}{constructor(e){super("devices",e),this.http=e}notifications(e,t){return this.http.get(`${n.a.apiUrl}/devices/${e}/notifications${t}`,!1)}routes(e,t,r){return this.http.get(`${n.a.apiUrl}/devices/${e}/reports/route?from=${t}&to=${r}`,!1)}routeDownload(e,t,r){return this.http.get(`${n.a.apiUrl}/devices/${e}/reports/route_download?from=${t}&to=${r}`,!1,"blob")}trips(e,t,r){return this.http.get(`${n.a.apiUrl}/devices/${e}/reports/trips?from=${t}&to=${r}`,!1)}stops(e,t,r){return this.http.get(`${n.a.apiUrl}/devices/${e}/reports/stops?from=${t}&to=${r}`,!1)}summary(e,t,r){return this.http.get(`${n.a.apiUrl}/devices/${e}/reports/summary?from=${t}&to=${r}`,!1)}close_lock(e){return this.http.get(`${n.a.apiUrl}/devices/${e}/geofences/close_lock`)}open_lock(e){return this.http.get(`${n.a.apiUrl}/devices/${e}/geofences/open_lock`)}geofences(e){return this.http.get(`${n.a.apiUrl}/devices/${e}/geofences/list_all`,!1)}bloqueio(e){return this.http.post(`${n.a.apiUrl}/devices/${e}/bloqueio`,{})}desbloqueio(e){return this.http.post(`${n.a.apiUrl}/devices/${e}/desbloqueio`,{})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](s.a))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},eAEk:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("mrSG"),o=r("fXoL"),s=r("e8h1"),i=r("pqyF");let a=(()=>{class e{constructor(e,t){this.storage=e,this.eventBusService=t}clear(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.storage.remove("User"),yield this.storage.remove("Tokens")}))}setTokens(e){return this.storage.set("Tokens",JSON.stringify(e))}getTokens(){return Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.storage.get("Tokens");return e?JSON.parse(e):null}))}setUser(e){return this.storage.set("User",JSON.stringify(e))}getUser(){return Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.storage.get("User");return e?JSON.parse(e):null}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](s.b),o["\u0275\u0275inject"](i.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},pqyF:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c}));var n=r("XNiG"),o=r("pLZG"),s=r("lJxs"),i=r("fXoL");let a=(()=>{class e{constructor(){this.subject=new n.a}on(e,t){return this.subject.pipe(Object(o.a)(t=>t.name===e),Object(s.a)(e=>e.value)).subscribe(t)}emit(e){this.subject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class c{constructor(e,t){this.name=e,this.value=t}}},xJkR:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return b}));var n=r("fXoL");const o="undefined"!=typeof performance&&void 0!==performance.now&&"function"==typeof performance.mark&&"function"==typeof performance.measure&&("function"==typeof performance.clearMarks||"function"==typeof performance.clearMeasures),s="undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.prototype&&"function"==typeof PerformanceObserver.prototype.constructor,i="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);let a={},c={};const d=()=>o?performance.now():Date.now(),l=e=>{a[e]=void 0,c[e]&&(c[e]=void 0),o&&(i||performance.clearMeasures(e),performance.clearMarks(e))},p=e=>{if(o){if(i&&s){const t=new PerformanceObserver(r=>{c[e]=r.getEntries().find(t=>t.name===e),t.disconnect()});t.observe({entryTypes:["measure"]})}performance.mark(e)}a[e]=d()},u=(e,t)=>{try{const r=a[e];return o?(t||performance.mark(e+"-end"),performance.measure(e,e,t||e+"-end"),i?c[e]?c[e]:r?{duration:d()-r,startTime:r,entryType:"measure",name:e}:{}:performance.getEntriesByName(e).pop()||{}):r?{duration:d()-r,startTime:r,entryType:"measure",name:e}:{}}catch(r){return{}}finally{l(e),l(t||e+"-end")}};var h=r("ofXK");const f=function(e,t,r,n){return{circle:e,progress:t,"progress-dark":r,pulse:n}};function g(e,t){if(1&e&&n["\u0275\u0275element"](0,"span",1),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275property"]("ngClass",n["\u0275\u0275pureFunction4"](4,f,"circle"===e.appearance,"progress"===e.animation,"progress-dark"===e.animation,"pulse"===e.animation))("ngStyle",e.theme),n["\u0275\u0275attribute"]("aria-label",e.ariaLabel)("aria-valuetext",e.loadingText)}}const m=new n.InjectionToken("ngx-skeleton-loader.config");let v=(()=>{class e{constructor(e){const{appearance:t="line",animation:r="progress",theme:n=null,loadingText:o="Loading...",count:s=1,ariaLabel:i="loading"}=e||{};this.appearance=t,this.animation=r,this.theme=n,this.loadingText=o,this.count=s,this.items=[],this.ariaLabel=i}ngOnInit(){p("NgxSkeletonLoader:Rendered"),p("NgxSkeletonLoader:Loaded"),this.validateInputValues()}validateInputValues(){/^\d+$/.test(""+this.count)||(Object(n.isDevMode)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),this.items.length=this.count;const e=["progress","progress-dark","pulse","false"];-1===e.indexOf(String(this.animation))&&(Object(n.isDevMode)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${e.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line",""].indexOf(String(this.appearance))&&(Object(n.isDevMode)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or empty string. Forcing default to \"''\"."),this.appearance="")}ngOnChanges(e){["count","animation","appearance"].find(t=>e[t]&&(e[t].isFirstChange()||e[t].previousValue===e[t].currentValue))||this.validateInputValues()}ngAfterViewInit(){u("NgxSkeletonLoader:Rendered")}ngOnDestroy(){u("NgxSkeletonLoader:Loaded")}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](m,8))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-skeleton-loader"]],inputs:{appearance:"appearance",animation:"animation",theme:"theme",loadingText:"loadingText",count:"count",ariaLabel:"ariaLabel"},features:[n["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:1,consts:[["class","loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",1,"loader",3,"ngClass","ngStyle"]],template:function(e,t){1&e&&n["\u0275\u0275template"](0,g,1,9,"span",0),2&e&&n["\u0275\u0275property"]("ngForOf",t.items)},directives:[h.NgForOf,h.NgClass,h.NgStyle],styles:['.loader[_ngcontent-%COMP%]{background:#eff1f6 no-repeat;border-radius:4px;box-sizing:border-box;display:inline-block;height:20px;margin-bottom:10px;overflow:hidden;position:relative;width:100%;will-change:transform}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.circle[_ngcontent-%COMP%]{border-radius:50%;height:40px;margin:5px;width:40px}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.loader.progress-dark[_ngcontent-%COMP%]:after, .loader.progress-dark[_ngcontent-%COMP%]:before, .loader.progress[_ngcontent-%COMP%]:after, .loader.progress[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.progress-dark[_ngcontent-%COMP%]:before, .loader.progress[_ngcontent-%COMP%]:before{-webkit-animation:progress 2s ease-in-out infinite;animation:progress 2s ease-in-out infinite;background-size:200px 100%;content:"";height:100%;left:0;position:absolute;top:0;width:200px;z-index:1}.loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.6),hsla(0,0%,100%,0))}.loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.loader.pulse[_ngcontent-%COMP%]{-webkit-animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;-webkit-animation-delay:.5s;animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}@media (prefers-reduced-motion:reduce){.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%], .loader.pulse[_ngcontent-%COMP%]{-webkit-animation:none;animation:none}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{background-image:none}}@-webkit-keyframes progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@-webkit-keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),e})(),b=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:m,useValue:t}]}}}return e.\u0275mod=n["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[h.CommonModule]]}),e})()}}]);