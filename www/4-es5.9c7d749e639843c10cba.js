!function(){function t(e,n){return(t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(e,n)}function e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,r=i(t);if(e){var o=i(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return n(this,s)}}function n(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"3LUQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("mrSG"),r=n("fXoL"),a=n("TEn/"),c=function(){var t=function(){function t(e,n){s(this,t),this.alertCtrl=e,this.toastCtrl=n}return o(t,[{key:"toast",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastCtrl.create({message:t,position:e,duration:3e3,color:"dark"});case 2:return i=n.sent,n.next=5,i.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"alert",value:function(t,e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({header:t,message:e,buttons:["ok"],backdropDismiss:!1});case 2:return i=n.sent,n.next=5,i.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"confirm",value:function(t,e,n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertCtrl.create({header:t,message:e,mode:"md",cssClass:"custom-alert-message",buttons:[{text:"N\xe3o",role:"Cancel",handler:function(){console.log("Confirm:Say:No")}},{text:"Sim",handler:function(){n()}}]});case 2:return s=i.sent,i.next=5,s.present();case 5:case"end":return i.stop()}}),i,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](a.AlertController),r["\u0275\u0275inject"](a.ToastController))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"6HIw":function(t,e,n){"use strict";function i(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return u}));var r=function(){function t(){s(this,t)}return o(t,null,[{key:"touch",get:function(){return window.Modernizr&&!0===window.Modernizr.touch||!!(window.navigator.maxTouchPoints>0||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)}},{key:"observer",get:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}},{key:"backdropFilter",get:function(){return CSS.supports("backdrop-filter","blur(0px)")||CSS.supports("-webkit-backdrop-filter","blur(0px)")}},{key:"passiveListener",get:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveListener",null,e)}catch(n){}return t}},{key:"gestures",get:function(){return"ongesturestart"in window}},{key:"pointerEvents",get:function(){return!!window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0}}]),t}(),a=function t(){s(this,t),this.ios=!1,this.android=!1,this.androidChrome=!1,this.desktop=!1,this.iphone=!1,this.ipod=!1,this.ipad=!1,this.edge=!1,this.ie=!1,this.firefox=!1,this.macos=!1,this.windows=!1,this.cordova=!(!window.cordova&&!window.phonegap),this.phonegap=!(!window.cordova&&!window.phonegap),this.electron=!1,this.ionic=!!document.querySelector("ion-app");var e=window.navigator.platform,n=window.navigator.userAgent,i=window.screen.width,o=window.screen.height,a=n.match(/(Android);?[\s\/]+([\d.]+)?/),c=n.match(/(iPad).*OS\s([\d_]+)/),h=n.match(/(iPod)(.*OS\s([\d_]+))?/),l=!this.ipad&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),u=n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0,p=n.indexOf("Edge/")>=0,d=n.indexOf("Gecko/")>=0&&n.indexOf("Firefox/")>=0,f="Win32"===e,v=n.toLowerCase().indexOf("electron")>=0,g="MacIntel"===e;!c&&g&&r.touch&&(1024===i&&1366===o||834===i&&1194===o||834===i&&1112===o||768===i&&1024===o)&&(c=n.match(/(Version)\/([\d.]+)/),g=!1),this.ie=u,this.edge=p,this.firefox=d,a&&!f&&(this.os="android",this.osVersion=a[2],this.android=!0,this.androidChrome=n.toLowerCase().indexOf("chrome")>=0),(c||l||h)&&(this.os="ios",this.ios=!0),l&&!h&&(this.osVersion=l[2].replace(/_/g,"."),this.iphone=!0),c&&(this.osVersion=c[2].replace(/_/g,"."),this.ipad=!0),h&&(this.osVersion=h[3]?h[3].replace(/_/g,"."):null,this.ipod=!0),this.ios&&this.osVersion&&n.indexOf("Version/")>=0&&"10"===this.osVersion.split(".")[0]&&(this.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),this.webView=!(!(l||c||h)||!n.match(/.*AppleWebKit(?!.*Safari)/i)&&!window.navigator.standalone)||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,this.webview=this.webView,this.standalone=this.webView,this.desktop=!(this.ios||this.android)||v,this.desktop&&(this.electron=v,this.macos=g,this.windows=f,this.macos&&(this.os="macos"),this.windows&&(this.os="windows")),this.pixelRatio=window.devicePixelRatio||1},c=function(){function t(e,n,i,o){var a,c,h=this;s(this,t),this.instance=e,this.settings=n,this.device=i,this.breakpoints=o,this.allowClick=!0,this.disableDragAngle=!1,this.pointerDown=!1,this.contentScrollTop=0,this.steps=[],this.inputBluredbyMove=!1,this.movedByKeyboard=!1,this.touchEvents=(a=["touchstart","touchmove","touchend","touchcancel"],c=["mousedown","mousemove","mouseup"],r.pointerEvents&&(c=["pointerdown","pointermove","pointerup"]),r.touch||!h.settings.simulateTouch?{start:a[0],move:a[1],end:a[2],cancel:a[3]}:{start:c[0],move:c[1],end:c[2]}),this.touchStartCb=function(t){return h.touchStart(t)},this.touchMoveBackdropCb=function(t){return h.touchMoveBackdrop(t)},this.touchMoveCb=function(t){return h.touchMove(t)},this.touchEndCb=function(t){return h.touchEnd(t)},this.onClickCb=function(t){return h.onClick(t)},this.onKeyboardShowCb=function(t){return h.onKeyboardShow(t)},this.onKeyboardHideCb=function(t){return h.onKeyboardHide(t)},this.onWindowResizeCb=function(t){return h.onWindowResize(t)}}return o(t,[{key:"attachAllEvents",value:function(){var t=this;this.settings.dragBy?this.settings.dragBy.forEach((function(e){var n=document.querySelector(e);n&&t.eventListeners("addEventListener",n)})):this.eventListeners("addEventListener",this.instance.paneEl),this.settings.handleKeyboard&&this.device.cordova&&(window.addEventListener("keyboardWillShow",this.onKeyboardShowCb),window.addEventListener("keyboardWillHide",this.onKeyboardHideCb)),!this.settings.handleKeyboard&&this.device.cordova&&this.device.android&&window.addEventListener("keyboardWillHide",(function(){t.instance.parentEl.scrollTop=0,t.instance.parentEl.parentElement&&(t.instance.parentEl.parentElement.scrollTop=0,t.instance.parentEl.parentElement.parentElement&&(t.instance.parentEl.parentElement.parentElement.scrollTop=0))})),window.addEventListener("resize",this.onWindowResizeCb)}},{key:"detachAllEvents",value:function(){var t=this;this.settings.dragBy?this.settings.dragBy.forEach((function(e){var n=document.querySelector(e);n&&t.eventListeners("removeEventListener",n)})):this.eventListeners("removeEventListener",this.instance.paneEl),this.settings.handleKeyboard&&this.device.cordova&&(window.removeEventListener("keyboardWillShow",this.onKeyboardShowCb),window.removeEventListener("keyboardWillHide",this.onKeyboardHideCb)),window.removeEventListener("resize",this.onWindowResizeCb)}},{key:"resetEvents",value:function(){this.detachAllEvents(),this.attachAllEvents()}},{key:"eventListeners",value:function(t,e){var n,i,s;if(!r.touch&&r.pointerEvents)e[t](this.touchEvents.start,this.touchStartCb,!1),e[t](this.touchEvents.move,this.touchMoveCb,!1),e[t](this.touchEvents.end,this.touchEndCb,!1),null===(n=this.instance.backdropEl)||void 0===n||n[t](this.touchEvents.move,this.touchMoveBackdropCb,!1);else{if(r.touch){var o=!("touchstart"!==this.touchEvents.start||!r.passiveListener||!this.settings.passiveListeners)&&{passive:!0,capture:!1};e[t](this.touchEvents.start,this.touchStartCb,o),e[t](this.touchEvents.move,this.touchMoveCb,!!r.passiveListener&&{passive:!1,capture:!1}),e[t](this.touchEvents.end,this.touchEndCb,o),null===(i=this.instance.backdropEl)||void 0===i||i[t](this.touchEvents.move,this.touchMoveBackdropCb,!!r.passiveListener&&{passive:!1,capture:!1}),this.touchEvents.cancel&&e[t](this.touchEvents.cancel,this.touchEndCb,o)}(this.settings.simulateTouch&&!this.device.ios&&!this.device.android||this.settings.simulateTouch&&!r.touch&&this.device.ios)&&(e[t]("mousedown",this.touchStartCb,!1),e[t]("mousemove",this.touchMoveCb,!1),e[t]("mouseup",this.touchEndCb,!1),null===(s=this.instance.backdropEl)||void 0===s||s[t]("mousemove",this.touchMoveBackdropCb,!1))}this.settings.preventClicks&&e[t]("click",this.onClickCb,!0)}},{key:"touchStart",value:function(t){if(this.settings.onDragStart(t),this.allowClick=!0,!this.instance.disableDragEvents){this.disableDragAngle=!1,this.instance.preventedDismiss=!1;var e=this.getEvetClientYX(t,"touchstart"),n=e.clientY,i=e.clientX;this.startY=n,this.startX=i,"mousedown"===t.type&&(this.pointerDown=!0),this.contentScrollTop&&this.willScrolled(t)&&this.isDragScrollabe(t.path||t.composedPath())&&(this.startY+=this.contentScrollTop),this.steps.push(this.startY)}}},{key:"touchMoveBackdrop",value:function(t){this.settings.touchMoveStopPropagation&&t.stopPropagation()}},{key:"touchMove",value:function(t){var e=this,n=this.getEvetClientYX(t,"touchmove"),i=n.clientY,s=n.clientX;if(t.delta=this.steps[0]-i,this.settings.onDrag(t),this.instance.disableDragEvents)this.steps=[];else if(!this.disableDragAngle&&!this.instance.preventedDismiss&&(this.settings.touchMoveStopPropagation&&t.stopPropagation(),"mousemove"!==t.type||this.pointerDown)){var r=i-this.steps[this.steps.length-1],o=this.instance.getPanelTransformY()+r;if(!this.isFormElement(t.target)||!this.isElementScrollable(t.target)){if(this.steps.length>2&&this.isFormElement(document.activeElement)&&!this.isFormElement(t.target)&&(document.activeElement.blur(),this.inputBluredbyMove=!0),this.settings.touchAngle){var a,c=s-this.startX,h=i-this.startY;if(a=180*Math.atan2(Math.abs(h),Math.abs(c))/Math.PI,c*c+h*h>=25&&90-a>this.settings.touchAngle&&1===this.steps.length)return void(this.disableDragAngle=!0)}if(this.isDragScrollabe(t.path||t.composedPath())&&"auto"===this.instance.overflowEl.style.overflowY){if(this.instance.overflowEl.addEventListener("scroll",(function(t){e.contentScrollTop=t.target.scrollTop})),this.settings.inverse&&this.willScrolled(t))return void(this.contentScrollTop=0);if(o>this.breakpoints.topper&&this.contentScrollTop>0||o<=this.breakpoints.topper)return}if(!this.settings.inverse&&!this.settings.upperThanTop&&o<=this.breakpoints.topper)this.instance.paneEl.style.transform="translateY(".concat(this.breakpoints.topper,"px) translateZ(0px)");else{if(o<=this.breakpoints.topper&&this.settings.upperThanTop){var l=(-this.breakpoints.topper+this.breakpoints.topper-this.instance.getPanelTransformY())/this.breakpoints.topper/-8;o=this.instance.getPanelTransformY()+r*l}if((!this.settings.lowerThanBottom||this.settings.inverse)&&o>=this.breakpoints.bottomer)return this.instance.paneEl.style.transform="translateY(".concat(this.breakpoints.bottomer,"px) translateZ(0px)"),void this.instance.checkOpacityAttr(o);if(!this.instance.preventedDismiss&&this.instance.preventDismissEvent&&this.settings.bottomClose){var u=(-this.breakpoints.topper+this.breakpoints.topper-this.instance.getPanelTransformY())/this.breakpoints.topper/-8;if(o=this.instance.getPanelTransformY()+r*(.5-u),-1*(i-220-this.instance.screen_height)<=this.instance.screen_height-this.breakpoints.bottomer)return this.instance.preventedDismiss=!0,this.settings.onWillDismiss({prevented:!0}),void this.instance.moveToBreak(this.breakpoints.prevBreakpoint)}this.allowClick=!1,this.instance.checkOpacityAttr(o),this.instance.checkOverflowAttr(o),this.instance.doTransition({type:"move",translateY:o}),this.steps.push(i)}}}}},{key:"touchEnd",value:function(t){if(!this.instance.disableDragEvents){"mouseup"===t.type&&(this.pointerDown=!1);var e=this.breakpoints.getClosestBreakY(),n=this.steps[this.steps.length-1]-this.steps[this.steps.length-2],i=window.hasOwnProperty("cordova")?this.settings.fastSwipeSensivity+1:this.settings.fastSwipeSensivity;if(Math.abs(n)>=i&&(e=this.instance.swipeNextPoint(n,i,e),this.settings.fastSwipeClose&&this.breakpoints.currentBreakpoint<e))this.instance.destroy({animate:!0});else{var s=!1;this.isFormElement(document.activeElement)&&!this.isFormElement(t.target)&&2===this.steps.length&&(s=!0),this.steps=[],this.breakpoints.currentBreakpoint=e,this.settings.onDragEnd(t),isNaN(n)||s||(this.instance.checkOpacityAttr(this.breakpoints.currentBreakpoint),this.instance.checkOverflowAttr(this.breakpoints.currentBreakpoint),this.settings.bottomClose&&e===this.breakpoints.breaks.bottom?this.instance.destroy({animate:!0}):(this.instance.getPanelTransformY()===e&&this.settings.onTransitionEnd({target:this.instance.paneEl}),this.instance.doTransition({type:"end",translateY:e})))}}}},{key:"onClick",value:function(t){var e;this.allowClick?this.settings.clickBottomOpen&&this.breakpoints.breaks.bottom===this.instance.getPanelTransformY()&&(this.settings.breaks.top.enabled&&(e="top"),this.settings.breaks.middle.enabled&&(e="middle"),this.instance.moveToBreak(e)):this.settings.preventClicks&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}},{key:"onKeyboardShow",value:function(t){var e=this;if(this.isPaneDescendant(document.activeElement)&&this.isOnViewport()){this.device.android&&setTimeout((function(){return e.fixAndroidResize()}),20),this.movedByKeyboard=!0,this.breakpoints.prevBreakpoint=Object.entries(this.breakpoints.breaks).find((function(t){return t[1]===e.instance.getPanelTransformY()}))[0];var n=this.settings.breaks[this.instance.currentBreak()].height+t.keyboardHeight;window.matchMedia("(orientation: landscape)").matches&&(n=this.instance.screen_height),n>this.instance.screen_height-80&&(n=this.instance.screen_height-80),n-50>=this.settings.breaks[this.instance.currentBreak()].height&&this.instance.moveToHeight(n),setTimeout((function(){e.instance.setOverflowHeight(t.keyboardHeight-e.settings.topperOverflowOffset),e.instance.overflowEl.scrollTop=document.activeElement.offsetTop}),300)}}},{key:"onKeyboardHide",value:function(t){this.movedByKeyboard&&this.isOnViewport()&&(this.device.android&&this.fixAndroidResize(),this.movedByKeyboard=!1,this.instance.setOverflowHeight(),this.inputBluredbyMove?this.inputBluredbyMove=!1:this.instance.isHidden()||this.instance.moveToBreak(this.breakpoints.prevBreakpoint))}},{key:"onWindowResize",value:function(t){return i(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout((function(){return t(!0)}),150)}));case 2:this.instance.updateScreenHeights(),this.breakpoints.buildBreakpoints(JSON.parse(this.breakpoints.lockedBreakpoints),!1);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getEvetClientYX",value:function(t,e){var n=t.type===e&&t.targetTouches&&(t.targetTouches[0]||t.changedTouches[0]);return{clientY:t.type===e?n.clientY:t.clientY,clientX:t.type===e?n.clientX:t.clientX}}},{key:"fixAndroidResize",value:function(){var t=this;this.instance.paneEl&&(document.querySelector("ion-app"),window.requestAnimationFrame((function(){t.instance.wrapperEl.style.width="100%",t.instance.paneEl.style.position="absolute",window.requestAnimationFrame((function(){t.instance.wrapperEl.style.width="unset",t.instance.paneEl.style.position="fixed"}))})))}},{key:"isDragScrollabe",value:function(t){var e=this;return!!t.find((function(t){return t===e.instance.overflowEl}))}},{key:"willScrolled",value:function(t){return!(!this.isElementScrollable(this.instance.overflowEl)||"hidden"===this.instance.overflowEl.style.overflow||!this.isDragScrollabe(t.path||t.composedPath()))}},{key:"isPaneDescendant",value:function(t){for(var e=t.parentNode;null!=e;){if(e==this.instance.paneEl)return!0;e=e.parentNode}return!1}},{key:"isFormElement",value:function(t){return!!(t&&t.tagName&&["input","select","option","textarea","button","label"].includes(t.tagName.toLowerCase()))}},{key:"isElementScrollable",value:function(t){return t.scrollHeight>t.clientHeight}},{key:"isOnViewport",value:function(){return!this.instance.paneEl||0!==this.instance.paneEl.offsetWidth||0!==this.instance.paneEl.offsetHeight}}]),t}(),h=function t(){s(this,t),this.instance={initialBreak:"middle",inverse:!1,parentElement:null,followerElement:null,cssClass:null,fitHeight:!1,maxFitHeight:null,fitScreenHeight:!0,backdrop:!1,backdropOpacity:.4,animationType:"ease",animationDuration:300,dragBy:null,bottomOffset:0,bottomClose:!1,fastSwipeClose:!1,fastSwipeSensivity:3,freeMode:!1,buttonDestroy:!0,buttonClose:!0,topperOverflow:!0,topperOverflowOffset:0,lowerThanBottom:!0,upperThanTop:!1,showDraggable:!0,draggableOver:!1,clickBottomOpen:!0,preventClicks:!0,handleKeyboard:!0,simulateTouch:!0,passiveListeners:!0,touchMoveStopPropagation:!1,touchAngle:null,breaks:{},zStack:null,onDidDismiss:function(){},onWillDismiss:function(){},onDidPresent:function(){},onWillPresent:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onBackdropTap:function(){},onTransitionStart:function(){},onTransitionEnd:function(){}}},l=function(){function t(e,n){s(this,t),this.instance=e,this.settings=n,this.breaks={},this.calcHeightInProcess=!1,this.brs=[],this.defaultBreaksConf={top:{enabled:!0,height:window.innerHeight-47.25},middle:{enabled:!0,height:300},bottom:{enabled:!0,height:100}}}return o(t,[{key:"buildBreakpoints",value:function(t){var e,n;return i(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s,r,o,a=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.breaks={top:this.instance.screenHeightOffset,middle:this.instance.screenHeightOffset,bottom:this.instance.screenHeightOffset},!this.settings.fitHeight){i.next=6;break}return this.settings.fitScreenHeight=!1,this.settings.initialBreak="top",this.settings.topperOverflow=!1,i.next=4,this.getPaneFitHeight();case 4:s=i.sent,this.settings.maxFitHeight&&s>this.settings.maxFitHeight&&(s=this.settings.maxFitHeight,this.settings.topperOverflow=!0),t={top:{enabled:!0,height:s},middle:{enabled:!1},bottom:{enabled:!1}};case 6:["top","middle","bottom"].forEach((function(e){var n;a.breaks[e]-=a.settings.bottomOffset,a.settings.breaks[e]||(a.settings.breaks[e]=a.defaultBreaksConf[e]),t&&t[e]&&(a.settings.breaks[e]=t[e]),a.settings.fitScreenHeight&&((null===(n=a.settings.breaks[e])||void 0===n?void 0:n.height)>a.instance.screen_height&&(a.settings.breaks[e].height=a.instance.screen_height-a.settings.bottomOffset),a.settings.breaks.top&&a.settings.breaks.middle&&a.settings.breaks.top.height-50<=a.settings.breaks.middle.height&&(a.settings.breaks.middle.enabled=!1,a.settings.initialBreak="top")),a.settings.fitHeight&&"top"===e&&(a.settings.breaks[e].height>a.instance.screen_height?(a.settings.breaks[e].height=a.instance.screen_height-2*a.settings.bottomOffset,a.settings.topperOverflow=!0):a.instance.overflowEl&&!a.settings.maxFitHeight&&(a.settings.topperOverflow=!1,a.instance.overflowEl.style.overflowY="hidden")),a.settings.breaks[e]&&a.settings.breaks[e].enabled&&a.settings.breaks[e].height&&(a.settings.inverse?a.breaks[e]=a.settings.breaks[e].height:a.breaks[e]-=a.settings.breaks[e].height)})),this.lockedBreakpoints||(this.lockedBreakpoints=JSON.stringify(this.settings.breaks)),this.instance.isPanePresented()||this.settings.breaks[this.settings.initialBreak].enabled||console.warn("Cupertino Pane: Please set initialBreak for enabled breakpoint"),this.settings.breaks.middle.height>=this.settings.breaks.top.height&&console.warn("Cupertino Pane: Please set middle height lower than top height"),this.settings.breaks.middle.height<=this.settings.breaks.bottom.height&&console.warn("Cupertino Pane: Please set bottom height lower than middle height"),this.brs=[],["top","middle","bottom"].forEach((function(t){a.settings.breaks[t].enabled&&a.brs.push(a.breaks[t])})),this.topper=this.brs.reduce((function(t,e){return e<t?e:t})),this.bottomer=this.brs.reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t})),this.instance.isPanePresented()||(this.currentBreakpoint=this.breaks[this.settings.initialBreak],!this.settings.inverse||this.settings.breaks.bottom.enabled||this.settings.breaks.middle.enabled||(this.settings.topperOverflow=!1)),this.instance.isPanePresented()&&((null===(e=this.settings.breaks[this.prevBreakpoint])||void 0===e?void 0:e.enabled)&&this.instance.moveToBreak(this.prevBreakpoint),(null===(n=this.settings.breaks[this.prevBreakpoint])||void 0===n?void 0:n.enabled)||(r=this.instance.swipeNextPoint(1,1,this.getClosestBreakY()),o=Object.entries(this.breaks).find((function(t){return t[1]===r})),this.instance.moveToBreak(o[0])),this.instance.paneEl.style.top=this.settings.inverse?"-".concat(this.bottomer,"px"):"unset",this.instance.paneEl.style.height=this.instance.getPaneHeight()+"px",this.instance.scrollElementInit(),this.instance.checkOpacityAttr(this.currentBreakpoint),this.instance.checkOverflowAttr(this.currentBreakpoint));case 7:case"end":return i.stop()}}),i,this)})))}},{key:"getCurrentBreakName",value:function(){return this.breaks.top===this.currentBreakpoint?"top":this.breaks.middle===this.currentBreakpoint?"middle":this.breaks.bottom===this.currentBreakpoint?"bottom":null}},{key:"getPaneFitHeight",value:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.calcHeightInProcess=!0,n=this.instance.el.querySelectorAll("img"),this.instance.el.style.height="unset",this.instance.rendered||(this.instance.el.style.visibility="hidden",this.instance.el.style.pointerEvents="none",this.instance.el.style.display="block",this.instance.wrapperEl.style.visibility="hidden",this.instance.wrapperEl.style.pointerEvents="none",this.instance.wrapperEl.style.display="block"),i=[],n.length&&(i=Array.from(n).map((function(t){return new Promise((function(e){t.complete&&t.naturalHeight?e(!0):t.onload=function(){return e(!0)}}))}))),i.push(new Promise((function(t){return setTimeout((function(){return t(!0)}),s.instance.rendered?0:150)}))),t.next=8,Promise.all(i);case 8:return e=parseInt(document.defaultView.getComputedStyle(this.instance.el,"").getPropertyValue("height"))+(parseInt(document.defaultView.getComputedStyle(this.instance.el,"").getPropertyValue("margin-top"))+parseInt(document.defaultView.getComputedStyle(this.instance.el,"").getPropertyValue("margin-bottom"))),e+=this.instance.el.offsetTop,this.instance.rendered||(this.instance.el.style.visibility="unset",this.instance.el.style.pointerEvents="unset",this.instance.el.style.display="none",this.instance.wrapperEl.style.visibility="unset",this.instance.wrapperEl.style.pointerEvents="unset",this.instance.wrapperEl.style.display="none"),this.calcHeightInProcess=!1,t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"getClosestBreakY",value:function(){var t=this;return this.brs.reduce((function(e,n){return Math.abs(n-t.instance.getPanelTransformY())<Math.abs(e-t.instance.getPanelTransformY())?n:e}))}}]),t}(),u=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),this.selector=e,this.disableDragEvents=!1,this.preventDismissEvent=!1,this.preventedDismiss=!1,this.rendered=!1,this.settings=(new h).instance,this.device=new a,this.swipeNextPoint=function(t,e,i){var s={},r={};if(n.settings.inverse?(s.top=n.breakpoints.breaks.bottom,s.middle=n.breakpoints.breaks.middle,s.bottom=n.breakpoints.breaks.top,r.top=Object.assign({},n.settings.breaks.bottom),r.middle=Object.assign({},n.settings.breaks.middle),r.bottom=Object.assign({},n.settings.breaks.top)):(s=Object.assign({},n.breakpoints.breaks),r=Object.assign({},n.settings.breaks)),n.breakpoints.currentBreakpoint===s.top){if(t>e){if(r.middle.enabled)return s.middle;if(r.bottom.enabled)return s.middle<i?i:s.bottom}return s.top}if(n.breakpoints.currentBreakpoint===s.middle)return t<-e&&r.top.enabled?s.top:t>e&&r.bottom.enabled?s.bottom:s.middle;if(n.breakpoints.currentBreakpoint===s.bottom){if(t<-e){if(r.middle.enabled)return s.middle>i?i:s.middle;if(r.top.enabled)return s.top}return s.bottom}return i},this.selector=e instanceof HTMLElement?e:document.querySelector(e),this.selector?this.isPanePresented()?console.error("Cupertino Pane: specified selector or DOM element already in use",this.selector):(this.el=this.selector,this.el.style.display="none",this.settings=Object.assign(Object.assign({},this.settings),i),this.settings.parentElement=this.settings.parentElement?document.querySelector(this.settings.parentElement):this.el.parentElement,this.breakpoints=new l(this,this.settings),this.events=new c(this,this.settings,this.device,this.breakpoints)):console.warn("Cupertino Pane: wrong selector or DOM element specified",this.selector)}return o(t,[{key:"drawBaseElements",value:function(){this.parentEl=this.settings.parentElement,this.wrapperEl=document.createElement("div"),this.wrapperEl.classList.add("cupertino-pane-wrapper"),this.settings.inverse&&this.wrapperEl.classList.add("inverse"),this.settings.cssClass&&(this.wrapperEl.className+=" "+this.settings.cssClass);var t="";t+="\n      .cupertino-pane-wrapper {\n        display: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n    ",this.paneEl=document.createElement("div"),this.paneEl.style.transform="translateY(".concat(this.screenHeightOffset,"px) translateZ(0px)"),this.paneEl.classList.add("pane"),t+="\n      .cupertino-pane-wrapper .pane {\n        position: fixed;\n        z-index: 11;\n        width: 100%;\n        max-width: 500px;\n        left: 0px;\n        right: 0px;\n        margin-left: auto;\n        margin-right: auto;\n        background: var(--cupertino-pane-background, #ffffff);\n        color: var(--cupertino-pane-color, #333333);\n        box-shadow: var(--cupertino-pane-shadow, 0 4px 16px rgba(0,0,0,.12));\n        will-change: transform;\n        padding-top: 15px; \n        border-radius: var(--cupertino-pane-border-radius, 20px) \n                       var(--cupertino-pane-border-radius, 20px) \n                       0 0;\n      }\n      .cupertino-pane-wrapper.inverse .pane {\n        padding-bottom: 15px; \n        border-radius: 0 0 20px 20px;\n        border-radius: 0 0\n                       var(--cupertino-pane-border-radius, 20px) \n                       var(--cupertino-pane-border-radius, 20px);\n      }\n    ",this.draggableEl=document.createElement("div"),this.draggableEl.classList.add("draggable"),this.settings.draggableOver&&this.draggableEl.classList.add("over"),t+="\n      .cupertino-pane-wrapper .draggable {\n        padding: 5px;\n        position: absolute;\n        left: 0;\n        right: 0;\n        margin-left: auto;\n        margin-right: auto;\n        height: 30px;\n        z-index: 12;\n        top: 0;\n        bottom: initial;\n      }\n      .cupertino-pane-wrapper .draggable.over {\n        top: -30px;\n        padding: 15px;\n      }\n      .cupertino-pane-wrapper.inverse .draggable {\n        bottom: 0;\n        top: initial;\n      }\n      .cupertino-pane-wrapper.inverse .draggable.over {\n        bottom: -30px;\n        top: initial;\n      }\n    ",this.moveEl=document.createElement("div"),this.moveEl.classList.add("move"),t+="\n      .cupertino-pane-wrapper .move {\n        margin: 0 auto;\n        height: 5px;\n        background: var(--cupertino-pane-move-background, #c0c0c0);\n        width: 36px;\n        border-radius: 4px;\n      }\n      .cupertino-pane-wrapper .draggable.over .move {\n        width: 70px; \n        background: var(--cupertino-pane-move-background, rgba(225, 225, 225, 0.6));\n        ".concat(r.backdropFilter?"\n          backdrop-filter: saturate(180%) blur(20px);\n          -webkit-backdrop-filter: saturate(180%) blur(20px);\n        ":"","\n      }\n      .cupertino-pane-wrapper.inverse .move {\n        margin-top: 15px;\n      }\n      .cupertino-pane-wrapper.inverse .draggable.over .move {\n        margin-top: -5px;\n      }\n    "),this.destroyButtonEl=document.createElement("div"),this.destroyButtonEl.classList.add("destroy-button"),t+="\n      .cupertino-pane-wrapper .destroy-button {\n        width: 26px;\n        height: 26px;\n        position: absolute;\n        background: var(--cupertino-pane-destroy-button-background, #ebebeb);\n        fill: var(--cupertino-pane-icon-close-color, #7a7a7e);\n        right: 20px;\n        z-index: 14;\n        border-radius: 100%;\n        top: 16px;\n      }\n    ",this.contentEl=this.el,this.contentEl.style.transition="opacity ".concat(this.settings.animationDuration,"ms ").concat(this.settings.animationType," 0s"),this.contentEl.style.overflowX="hidden",t+="\n      .cupertino-pane-wrapper .backdrop {\n        overflow: hidden;\n        position: fixed;\n        width: 100%;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        top: 0;\n        display: none;\n        z-index: 10;\n      }\n    ",this.addStyle(t),this.parentEl.appendChild(this.wrapperEl),this.wrapperEl.appendChild(this.paneEl),this.paneEl.appendChild(this.contentEl),this.settings.showDraggable&&(this.paneEl.appendChild(this.draggableEl),this.draggableEl.appendChild(this.moveEl))}},{key:"present",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{animate:!1};return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.el){n.next=37;break}if(!this.isPanePresented()||!this.rendered){n.next=5;break}this.moveToBreak(this.settings.initialBreak),n.next=37;break;case 5:if(this.isPanePresented()&&!this.rendered){n.next=36;break}return this.settings.onWillPresent(),this.updateScreenHeights(),this.drawBaseElements(),n.next=11,this.setBreakpoints();case 11:if(this.paneEl.style.height=this.getPaneHeight()+"px",this.settings.inverse&&(this.paneEl.style.top="-".concat(this.breakpoints.bottomer,"px")),this.wrapperEl.style.display="block",this.contentEl.style.display="block",this.wrapperEl.classList.add("rendered"),this.rendered=!0,!this.settings.followerElement){n.next=21;break}if(document.querySelector(this.settings.followerElement)){n.next=20;break}return n.abrupt("return",void console.warn("Cupertino Pane: wrong follower element selector specified",this.settings.followerElement));case 20:this.followerEl=document.querySelector(this.settings.followerElement),this.followerEl.style.willChange="transform, border-radius",this.followerEl.style.transform="translateY(0px) translateZ(0px)",this.followerEl.style.transition="all ".concat(this.settings.animationDuration,"ms ").concat(this.getTimingFunction(null===(t=this.settings.breaks[this.currentBreak()])||void 0===t?void 0:t.bounce)," 0s");case 21:return this.settings.zStack&&(this.settings.zStack=Object.assign(Object.assign({},{pushElements:null,minPushHeight:null,cardYOffset:0,cardZScale:.93,cardContrast:.85,stackZAngle:160}),this.settings.zStack),this.setPushMultiplicators()),this.settings.buttonClose&&this.settings.buttonDestroy&&!this.settings.inverse&&(this.paneEl.appendChild(this.destroyButtonEl),this.destroyButtonEl.addEventListener("click",(function(t){return i.destroy({animate:!0,destroyButton:!0})})),this.destroyButtonEl.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n          <path d="M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"/>\n        </svg>'),this.settings.bottomClose&&(this.settings.breaks.bottom.enabled=!0),this.settings.freeMode&&(this.settings.lowerThanBottom=!1),this.settings.backdrop&&this.renderBackdrop(),this.device.android&&(document.body.style.overscrollBehaviorY="none"),this.events.attachAllEvents(),e.animate?this.doTransition({type:"present",translateY:this.breakpoints.breaks[this.settings.initialBreak]}):(this.breakpoints.prevBreakpoint=this.settings.initialBreak,this.paneEl.style.transform="translateY(".concat(this.breakpoints.breaks[this.settings.initialBreak],"px) translateZ(0px)"),this.settings.backdrop&&(this.backdropEl.style.display="block"),this.settings.zStack&&this.settings.zStack.pushElements.forEach((function(t){return i.pushTransition(document.querySelector(t),i.breakpoints.breaks[i.settings.initialBreak],"unset")})),this.settings.onDidPresent()),this.checkOpacityAttr(this.breakpoints.currentBreakpoint),n.next=32,new Promise((function(t){return setTimeout((function(){return t(!0)}),150)}));case 32:this.scrollElementInit(),this.checkOverflowAttr(this.breakpoints.currentBreakpoint),n.next=37;break;case 36:console.warn("Cupertino Pane: specified selector or DOM element already in use",this.selector);case 37:case"end":return n.stop()}}),n,this)})))}},{key:"getPaneHeight",value:function(){return this.settings.inverse?this.breakpoints.bottomer+this.settings.bottomOffset:this.screen_height-this.breakpoints.topper-this.settings.bottomOffset}},{key:"updateScreenHeights",value:function(){this.settings.inverse?(this.screen_height=window.innerHeight,this.screenHeightOffset=0):(this.screen_height=window.innerHeight,this.screenHeightOffset=window.innerHeight)}},{key:"scrollElementInit",value:function(){var t=this.el.querySelectorAll("[overflow-y]");!t.length||t.length>1?this.overflowEl=this.contentEl:(this.overflowEl=t[0],this.overflowEl.style.overflowX="hidden"),this.settings.topperOverflow&&(this.settings.upperThanTop&&console.warn('Cupertino Pane: "upperThanTop" allowed for disabled "topperOverflow"'),this.setOverflowHeight())}},{key:"setOverflowHeight",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.overflowEl.style.height=this.settings.inverse?this.getPaneHeight()-30-this.settings.topperOverflowOffset-this.overflowEl.offsetTop+"px":this.getPaneHeight()-this.settings.topperOverflowOffset-this.overflowEl.offsetTop-t+"px"}},{key:"checkOpacityAttr",value:function(t){var e=this,n=this.el.querySelectorAll("[hide-on-bottom]");n.length&&(this.settings.inverse||n.forEach((function(n){n.style.transition="opacity ".concat(e.settings.animationDuration,"ms ").concat(e.settings.animationType," 0s"),n.style.opacity=t>=e.breakpoints.breaks.bottom?"0":"1"})))}},{key:"checkOverflowAttr",value:function(t){this.settings.topperOverflow&&this.overflowEl&&(this.overflowEl.style.overflowY=this.settings.inverse?t>=this.breakpoints.bottomer?"auto":"hidden":t<=this.breakpoints.topper?"auto":"hidden")}},{key:"isPanePresented",value:function(){var t=this,e=Array.from(document.querySelectorAll(".cupertino-pane-wrapper.rendered"));return!!e.length&&!!e.find((function(e){return e.contains(t.selector)}))}},{key:"getTimingFunction",value:function(t){return t?"cubic-bezier(0.175, 0.885, 0.370, 1.120)":this.settings.animationType}},{key:"isBackdropPresented",value:function(){return!!document.querySelector(".cupertino-pane-wrapper .backdrop")}},{key:"renderBackdrop",value:function(){var t=this;this.backdropEl=document.createElement("div"),this.backdropEl.classList.add("backdrop"),this.backdropEl.style.transition="all ".concat(this.settings.animationDuration,"ms ").concat(this.settings.animationType," 0s"),this.backdropEl.style.backgroundColor="rgba(0,0,0, ".concat(this.settings.backdropOpacity,")"),this.wrapperEl.appendChild(this.backdropEl),this.backdropEl.addEventListener("click",(function(e){return t.settings.onBackdropTap()}))}},{key:"addStyle",value:function(t){if(!document.querySelector("#cupertino-panes-internal")){var e=document.createElement("style");e.id="cupertino-panes-internal",t=t.replace(/\s\s+/g," "),e.textContent=t,document.head.prepend(e)}}},{key:"setPushMultiplicators",value:function(){var t=this;this.settings.zStack.pushElements.forEach((function(e){var n=document.querySelector(e),i=t.getPushMulitplicator(n);i=i?i+1:1,n.style.setProperty("--push-multiplicator",""+i)}))}},{key:"clearPushMultiplicators",value:function(){for(var t=0;t<this.settings.zStack.pushElements.length;t++){var e=document.querySelector(this.settings.zStack.pushElements[t]),n=this.getPushMulitplicator(e);(n-=1)?e.style.setProperty("--push-multiplicator",""+n):e.style.removeProperty("--push-multiplicator")}}},{key:"getPushMulitplicator",value:function(t){var e=t.style.getPropertyValue("--push-multiplicator");return parseInt(e)}},{key:"backdrop",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!0};if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call backdrop()"),null;this.isBackdropPresented()||(this.renderBackdrop(),this.events.resetEvents());var n=function e(){t.backdropEl.style.transition="initial",t.backdropEl.style.display="none",t.backdropEl.removeEventListener("transitionend",e)};if(this.backdropEl.style.transition="all ".concat(this.settings.animationDuration,"ms ").concat(this.settings.animationType," 0s"),this.backdropEl.style.backgroundColor="rgba(0,0,0,.0)",e.show)this.backdropEl.style.display="block",setTimeout((function(){t.backdropEl.style.backgroundColor="rgba(0,0,0, ".concat(t.settings.backdropOpacity,")")}),50);else{if("none"===this.backdropEl.style.display)return;this.backdropEl.addEventListener("transitionend",n)}}},{key:"getPanelTransformY",value:function(){return parseFloat(/\.*translateY\((.*)px\)/i.exec(this.paneEl.style.transform)[1])}},{key:"preventDismiss",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.preventDismissEvent=t}},{key:"disableDrag",value:function(){this.disableDragEvents=!0}},{key:"enableDrag",value:function(){this.disableDragEvents=!1}},{key:"setBreakpoints",value:function(t){return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPanePresented()&&!t){e.next=5;break}return e.next=3,this.breakpoints.buildBreakpoints(t);case 3:e.next=6;break;case 5:console.warn("Cupertino Pane: Provide any breaks configuration");case 6:case"end":return e.stop()}}),e,this)})))}},{key:"calcFitHeight",value:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wrapperEl||!this.el){t.next=11;break}if(!this.breakpoints.calcHeightInProcess){t.next=5;break}t.t1=(console.warn("Cupertino Pane: calcFitHeight() already in process"),null),t.next=8;break;case 5:return t.next=7,this.breakpoints.buildBreakpoints(this.breakpoints.lockedBreakpoints);case 7:t.t1=void t.sent;case 8:t.t0=t.t1,t.next=12;break;case 11:t.t0=null;case 12:return t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"moveToBreak",value:function(t){if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call moveToBreak()"),null;this.settings.breaks[t].enabled?(this.checkOpacityAttr(this.breakpoints.breaks[t]),this.checkOverflowAttr(this.breakpoints.breaks[t]),this.doTransition({type:"breakpoint",translateY:this.breakpoints.breaks[t]}),this.breakpoints.currentBreakpoint=this.breakpoints.breaks[t]):console.warn("Cupertino Pane: %s breakpoint disabled",t)}},{key:"moveToHeight",value:function(t){if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call moveToHeight()"),null;var e=this.screenHeightOffset?this.screen_height-t:t;this.checkOpacityAttr(e),this.doTransition({type:"breakpoint",translateY:e})}},{key:"hide",value:function(){return this.isPanePresented()?this.isHidden()?(console.warn("Cupertino Pane: Pane already hidden"),null):void this.doTransition({type:"hide",translateY:this.screenHeightOffset}):(console.warn("Cupertino Pane: Present pane before call hide()"),null)}},{key:"isHidden",value:function(){return this.isPanePresented()?this.paneEl.style.transform==="translateY(".concat(this.screenHeightOffset,"px) translateZ(0px)"):(console.warn("Cupertino Pane: Present pane before call isHidden()"),null)}},{key:"currentBreak",value:function(){return this.isPanePresented()?this.breakpoints.getCurrentBreakName():(console.warn("Cupertino Pane: Present pane before call currentBreak()"),null)}},{key:"destroyResets",value:function(){this.parentEl.appendChild(this.contentEl),this.wrapperEl.remove(),this.events.detachAllEvents(),delete this.rendered,delete this.breakpoints.prevBreakpoint,this.contentEl.style.display="none"}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{animate:!1,destroyButton:!1};if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call destroy()"),null;this.preventDismissEvent?this.preventedDismiss||(this.settings.onWillDismiss({prevented:!0}),this.moveToBreak(this.breakpoints.prevBreakpoint)):(this.settings.onWillDismiss(),t.animate?this.doTransition({type:"destroy",translateY:this.screenHeightOffset,destroyButton:t.destroyButton}):(this.destroyResets(),this.settings.onDidDismiss({destroyButton:t.destroyButton})))}},{key:"pushTransition",value:function(t,e,n){var i=this,s=this.settings.zStack.pushElements;t.style.transition=n,e=this.screenHeightOffset-e;var r=this.settings.zStack.minPushHeight?this.settings.zStack.minPushHeight:this.screenHeightOffset-this.breakpoints.bottomer,o=this.screenHeightOffset-this.breakpoints.topper,a=this.getPushMulitplicator(t),c=Math.pow(this.settings.zStack.cardZScale,a),h=Math.pow(this.settings.zStack.cardZScale,a-1),l=6+this.settings.zStack.cardYOffset,u=l*a*-1,p=u+l,d=Math.pow(this.settings.zStack.cardContrast,a),f=Math.pow(this.settings.zStack.cardContrast,a-1),v=function(n,r,o,a){var c=Math.pow(n,i.settings.zStack.stackZAngle/100);t.style.transform="translateY(".concat(r*(c/n),"px) scale(").concat(n,")"),t.style.borderRadius=a+"px",t.style.filter="contrast(".concat(o,")");var h=document.querySelector(s[s.length-1]);e||t.className!==h.className||i.clearPushMultiplicators()};if(e<=r)v(h,p,f,0);else{var g=function(t,n){var i=-1*(o*n-r*t);return i-=(t-n)*e,(i/=r-o)>n&&(i=n),i<t&&(i=t),i};v(g(c,h),g(u,p),g(d,f),-1*g(-10,0))}}},{key:"doTransition",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("move"===n.type)return this.paneEl.style.transition="all 0ms linear 0ms",this.paneEl.style.transform="translateY(".concat(n.translateY,"px) translateZ(0px)"),this.followerEl&&(this.followerEl.style.transition="all 0ms linear 0ms",this.followerEl.style.transform="translateY(".concat(n.translateY-this.breakpoints.breaks[this.settings.initialBreak],"px) translateZ(0px)")),void(this.settings.zStack&&this.settings.zStack.pushElements.forEach((function(t){return e.pushTransition(document.querySelector(t),e.getPanelTransformY(),"all 0ms linear 0ms")})));var i=function t(){"destroy"===n.type&&e.destroyResets(),e.paneEl.style.transition="initial",e.followerEl&&(e.followerEl.style.transition="initial"),e.settings.backdrop&&("destroy"!==n.type&&"hide"!==n.type||(e.backdropEl.style.transition="initial",e.backdropEl.style.display="none")),"present"===n.type&&e.settings.onDidPresent(),"destroy"===n.type&&e.settings.onDidDismiss({destroyButton:n.destroyButton}),e.settings.onTransitionEnd({target:document.body.contains(e.paneEl)?e.paneEl:null}),e.paneEl.removeEventListener("transitionend",t)};if("breakpoint"===n.type||"end"===n.type||"present"===n.type||"hide"===n.type||"destroy"===n.type){if(this.settings.backdrop&&(this.isHidden()||"hide"===n.type||"destroy"===n.type||"present"===n.type)&&(this.backdropEl.style.backgroundColor="rgba(0,0,0,.0)",this.backdropEl.style.transition="all ".concat(this.settings.animationDuration,"ms ").concat(this.settings.animationType," 0s"),"hide"!==n.type&&"destroy"!==n.type&&(this.backdropEl.style.display="block",setTimeout((function(){e.backdropEl.style.backgroundColor="rgba(0,0,0, ".concat(e.settings.backdropOpacity,")")}),50))),"end"===n.type&&this.settings.freeMode)return;var s=Object.entries(this.settings.breaks).find((function(t){return t[1].height===e.screenHeightOffset-n.translateY})),r=this.getTimingFunction(!(!s||!(null===(t=s[1])||void 0===t?void 0:t.bounce)));this.paneEl.style.transition="transform ".concat(this.settings.animationDuration,"ms ").concat(r," 0s"),this.followerEl&&(this.followerEl.style.transition="transform ".concat(this.settings.animationDuration,"ms ").concat(r," 0s")),this.settings.zStack&&setTimeout((function(){e.settings.zStack.pushElements.forEach((function(t){return e.pushTransition(document.querySelector(t),n.translateY,"all ".concat(e.settings.animationDuration,"ms ").concat(e.settings.animationType," 0s"))}))}),this.settings.zStack.cardYOffset&&"present"===n.type?50:0),setTimeout((function(){e.settings.onTransitionStart({translateY:{new:n.translateY}}),e.paneEl.style.transform="translateY(".concat(n.translateY,"px) translateZ(0px)"),e.followerEl&&(e.followerEl.style.transform="translateY(".concat(n.translateY-e.breakpoints.breaks[e.settings.initialBreak],"px) translateZ(0px)"))}),"present"===n.type?50:0);var o=Object.entries(this.breakpoints.breaks).find((function(t){return t[1]===n.translateY}));return o&&(this.breakpoints.prevBreakpoint=o[0]),void this.paneEl.addEventListener("transitionend",i)}}}]),t}()},"N+K7":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i,r,a=n("mrSG"),c=n("tk/3"),h=n("fXoL"),l=n("3LUQ"),u=n("TEn/"),p=((i=function(){function t(e){s(this,t),this.loadingCtrl=e,this.spinner=null}return o(t,[{key:"Show",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null===this.spinner,!e.t0){e.next=7;break}return e.next=4,this.loadingCtrl.create({message:t||"Carregando...",mode:"md",spinner:"circles"});case 4:return this.spinner=e.sent,e.next=7,this.spinner.present();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"Hide",value:function(){null!=this.spinner&&(this.spinner.dismiss(),this.spinner=null)}}]),t}()).\u0275fac=function(t){return new(t||i)(h["\u0275\u0275inject"](u.LoadingController))},i.\u0275prov=h["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac,providedIn:"root"}),i),d=n("tyNb"),f=n("eAEk"),v=((r=function(){function t(e,n,i,r,o){s(this,t),this.http=e,this.alertSrv=n,this.spinnerSrv=i,this.router=r,this.localStorage=o}return o(t,[{key:"createHeader",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t||(t=new c.e),t=(t=t.append("Content-Type","application/json")).append("Accept","application/json")));case 1:case"end":return e.stop()}}),e)})))}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s,r=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.createHeader();case 2:return s=i.sent,i.abrupt("return",new Promise((function(i){return Object(a.a)(r,void 0,void 0,regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,r.t0=e,!r.t0){r.next=5;break}return r.next=5,this.spinnerSrv.Show();case 5:if("json"!==n){r.next=12;break}return r.next=8,this.http.get(t,{headers:s}).toPromise();case 8:o=r.sent,i({success:!0,data:o,error:void 0,headers:{}}),r.next=16;break;case 12:return r.next=14,this.http.get(t,{headers:s,responseType:"blob"}).toPromise();case 14:a=r.sent,i({success:!0,data:a,error:void 0,headers:{}});case 16:if(r.t1=e,!r.t1){r.next=20;break}return r.next=20,this.spinnerSrv.Hide();case 20:r.next=30;break;case 22:if(r.prev=22,r.t2=r.catch(0),401===r.t2.status||0===r.t2.status&&this.router.navigate(["/try-again"]),r.t3=e,!r.t3){r.next=29;break}return r.next=29,this.spinnerSrv.Hide();case 29:i({success:!1,data:{},error:r.t2,headers:{}});case 30:case"end":return r.stop()}}),r,this,[[0,22]])})))})));case 4:case"end":return i.stop()}}),i,this)})))}},{key:"post",value:function(t,e,n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s,r=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.createHeader(n);case 2:return s=i.sent,i.abrupt("return",new Promise((function(n){return Object(a.a)(r,void 0,void 0,regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.spinnerSrv.Show();case 3:return i.next=5,this.http.post(t,e,{headers:s,observe:"response"}).toPromise();case 5:return r=i.sent,n({success:!0,data:r.body,error:void 0,headers:r.headers}),i.next=9,this.spinnerSrv.Hide();case 9:i.next=16;break;case 11:return i.prev=11,i.t0=i.catch(0),i.next=15,this.spinnerSrv.Hide();case 15:n({success:!1,data:{},error:i.t0,headers:{}});case 16:case"end":return i.stop()}}),i,this,[[0,11]])})))})));case 4:case"end":return i.stop()}}),i,this)})))}},{key:"patch",value:function(t,e,n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s,r=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.createHeader(n);case 2:return s=i.sent,i.abrupt("return",new Promise((function(n){return Object(a.a)(r,void 0,void 0,regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.spinnerSrv.Show();case 3:return i.next=5,this.http.patch(t,e,{headers:s,observe:"response"}).toPromise();case 5:return r=i.sent,n({success:!0,data:r.body,error:void 0,headers:r.headers}),i.next=9,this.spinnerSrv.Hide();case 9:i.next=20;break;case 11:return i.prev=11,i.t0=i.catch(0),i.next=15,this.spinnerSrv.Hide();case 15:if(i.t1=404===i.t0.status,!i.t1){i.next=19;break}return i.next=19,this.alertSrv.alert("Aten\xe7\xe3o",i.t0.error);case 19:n({success:!1,data:{},error:i.t0,headers:{}});case 20:case"end":return i.stop()}}),i,this,[[0,11]])})))})));case 4:case"end":return i.stop()}}),i,this)})))}},{key:"delete",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createHeader();case 2:return n=e.sent,e.abrupt("return",new Promise((function(e){return Object(a.a)(i,void 0,void 0,regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.spinnerSrv.Show();case 3:return i.next=5,this.http.delete(t,{headers:n}).toPromise();case 5:return s=i.sent,e({success:!0,data:s,error:void 0,headers:{}}),i.next=9,this.spinnerSrv.Hide();case 9:i.next=16;break;case 11:return i.prev=11,i.t0=i.catch(0),i.next=15,this.spinnerSrv.Hide();case 15:e({success:!1,data:{},error:i.t0,headers:{}});case 16:case"end":return i.stop()}}),i,this,[[0,11]])})))})));case 4:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||r)(h["\u0275\u0275inject"](c.b),h["\u0275\u0275inject"](l.a),h["\u0275\u0275inject"](p),h["\u0275\u0275inject"](d.g),h["\u0275\u0275inject"](f.a))},r.\u0275prov=h["\u0275\u0275defineInjectable"]({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},X2iB:function(n,i,r){"use strict";r.d(i,"a",(function(){return u}));var a,c=r("AytR"),h=r("fXoL"),l=r("N+K7"),u=((a=function(n){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}(r,n);var i=e(r);function r(t){var e;return s(this,r),(e=i.call(this,"devices",t)).http=t,e}return o(r,[{key:"notifications",value:function(t,e){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/notifications").concat(e),!1)}},{key:"routes",value:function(t,e,n){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/reports/route?from=").concat(e,"&to=").concat(n),!1)}},{key:"routeDownload",value:function(t,e,n){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/reports/route_download?from=").concat(e,"&to=").concat(n),!1,"blob")}},{key:"trips",value:function(t,e,n){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/reports/trips?from=").concat(e,"&to=").concat(n),!1)}},{key:"stops",value:function(t,e,n){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/reports/stops?from=").concat(e,"&to=").concat(n),!1)}},{key:"summary",value:function(t,e,n){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/reports/summary?from=").concat(e,"&to=").concat(n),!1)}},{key:"close_lock",value:function(t){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/geofences/close_lock"))}},{key:"open_lock",value:function(t){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/geofences/open_lock"))}},{key:"geofences",value:function(t){return this.http.get("".concat(c.a.apiUrl,"/devices/").concat(t,"/geofences/list_all"),!1)}},{key:"bloqueio",value:function(t){return this.http.post("".concat(c.a.apiUrl,"/devices/").concat(t,"/bloqueio"),{})}},{key:"desbloqueio",value:function(t){return this.http.post("".concat(c.a.apiUrl,"/devices/").concat(t,"/desbloqueio"),{})}}]),r}(function(){function t(e,n){s(this,t),this.url=e,this.http=n,this.urlBase="",this.spinner=!1,this.urlBase="".concat(c.a.apiUrl,"/").concat(this.url)}return o(t,[{key:"GetAll",value:function(t){return this.http.get(this.urlBase+t,this.spinner)}},{key:"GetById",value:function(t){return this.http.get("".concat(this.urlBase,"/").concat(t),this.spinner)}},{key:"create",value:function(t){return this.http.post(this.urlBase,t)}},{key:"update",value:function(t,e){return this.http.patch("".concat(this.urlBase,"/").concat(e),t)}},{key:"delete",value:function(t){return this.http.delete("".concat(this.urlBase,"/").concat(t))}}]),t}())).\u0275fac=function(t){return new(t||a)(h["\u0275\u0275inject"](l.a))},a.\u0275prov=h["\u0275\u0275defineInjectable"]({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},eAEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("mrSG"),r=n("fXoL"),a=n("e8h1"),c=n("pqyF"),h=function(){var t=function(){function t(e,n){s(this,t),this.storage=e,this.eventBusService=n}return o(t,[{key:"clear",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.remove("User");case 2:return t.next=4,this.storage.remove("Tokens");case 4:case"end":return t.stop()}}),t,this)})))}},{key:"setTokens",value:function(t){return this.storage.set("Tokens",JSON.stringify(t))}},{key:"getTokens",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.get("Tokens");case 2:return e=t.sent,t.abrupt("return",e?JSON.parse(e):null);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"setUser",value:function(t){return this.storage.set("User",JSON.stringify(t))}},{key:"getUser",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.get("User");case 2:return e=t.sent,t.abrupt("return",e?JSON.parse(e):null);case 4:case"end":return t.stop()}}),t,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](a.b),r["\u0275\u0275inject"](c.b))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},pqyF:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return l}));var i=n("XNiG"),r=n("pLZG"),a=n("lJxs"),c=n("fXoL"),h=function(){var t=function(){function t(){s(this,t),this.subject=new i.a}return o(t,[{key:"on",value:function(t,e){return this.subject.pipe(Object(r.a)((function(e){return e.name===t})),Object(a.a)((function(t){return t.value}))).subscribe(e)}},{key:"emit",value:function(t){this.subject.next(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),l=function t(e,n){s(this,t),this.name=e,this.value=n}},tmoB:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function t(){s(this,t),this.opened=!1}}}])}();