(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3LUQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("mrSG"),r=n("fXoL"),i=n("TEn/");let s=(()=>{class e{constructor(e,t){this.alertCtrl=e,this.toastCtrl=t}toast(e,t="top"){return Object(o.a)(this,void 0,void 0,(function*(){const n=yield this.toastCtrl.create({message:e,position:t,duration:3e3,color:"dark"});yield n.present()}))}alert(e,t){return Object(o.a)(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:e,message:t,buttons:["ok"],backdropDismiss:!1});yield n.present()}))}confirm(e,t,n){return Object(o.a)(this,void 0,void 0,(function*(){const o=yield this.alertCtrl.create({header:e,message:t,mode:"md",cssClass:"custom-alert-message",buttons:[{text:"N\xe3o",role:"Cancel",handler:()=>{console.log("Confirm:Say:No")}},{text:"Sim",handler:()=>{n()}}]});yield o.present()}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](i.AlertController),r["\u0275\u0275inject"](i.ToastController))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"N+K7":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("mrSG"),r=n("tk/3"),i=n("fXoL"),s=n("3LUQ"),a=n("TEn/");let l=(()=>{class e{constructor(e){this.loadingCtrl=e,this.spinner=null}Show(e){return Object(o.a)(this,void 0,void 0,(function*(){null===this.spinner&&(this.spinner=yield this.loadingCtrl.create({message:e||"Carregando...",mode:"md",spinner:"circles"}),yield this.spinner.present())}))}Hide(){null!=this.spinner&&(this.spinner.dismiss(),this.spinner=null)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.LoadingController))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=n("tyNb"),d=n("eAEk");let u=(()=>{class e{constructor(e,t,n,o,r){this.http=e,this.alertSrv=t,this.spinnerSrv=n,this.router=o,this.localStorage=r}createHeader(e){return Object(o.a)(this,void 0,void 0,(function*(){return e||(e=new r.e),e=(e=e.append("Content-Type","application/json")).append("Accept","application/json")}))}get(e,t=!0,n="json"){return Object(o.a)(this,void 0,void 0,(function*(){const r=yield this.createHeader();return new Promise(i=>Object(o.a)(this,void 0,void 0,(function*(){try{if(t&&(yield this.spinnerSrv.Show()),"json"===n){const t=yield this.http.get(e,{headers:r}).toPromise();i({success:!0,data:t,error:void 0,headers:{}})}else{const t=yield this.http.get(e,{headers:r,responseType:"blob"}).toPromise();i({success:!0,data:t,error:void 0,headers:{}})}t&&(yield this.spinnerSrv.Hide())}catch(o){401===o.status||0===o.status&&this.router.navigate(["/try-again"]),t&&(yield this.spinnerSrv.Hide()),i({success:!1,data:{},error:o,headers:{}})}})))}))}post(e,t,n){return Object(o.a)(this,void 0,void 0,(function*(){const r=yield this.createHeader(n);return new Promise(n=>Object(o.a)(this,void 0,void 0,(function*(){try{yield this.spinnerSrv.Show();const o=yield this.http.post(e,t,{headers:r,observe:"response"}).toPromise();n({success:!0,data:o.body,error:void 0,headers:o.headers}),yield this.spinnerSrv.Hide()}catch(o){yield this.spinnerSrv.Hide(),n({success:!1,data:{},error:o,headers:{}})}})))}))}patch(e,t,n){return Object(o.a)(this,void 0,void 0,(function*(){const r=yield this.createHeader(n);return new Promise(n=>Object(o.a)(this,void 0,void 0,(function*(){try{yield this.spinnerSrv.Show();const o=yield this.http.patch(e,t,{headers:r,observe:"response"}).toPromise();n({success:!0,data:o.body,error:void 0,headers:o.headers}),yield this.spinnerSrv.Hide()}catch(o){yield this.spinnerSrv.Hide(),404===o.status&&(yield this.alertSrv.alert("Aten\xe7\xe3o",o.error)),n({success:!1,data:{},error:o,headers:{}})}})))}))}delete(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.createHeader();return new Promise(n=>Object(o.a)(this,void 0,void 0,(function*(){try{yield this.spinnerSrv.Show();const o=yield this.http.delete(e,{headers:t}).toPromise();n({success:!0,data:o,error:void 0,headers:{}}),yield this.spinnerSrv.Hide()}catch(o){yield this.spinnerSrv.Hide(),n({success:!1,data:{},error:o,headers:{}})}})))}))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.b),i["\u0275\u0275inject"](s.a),i["\u0275\u0275inject"](l),i["\u0275\u0275inject"](c.g),i["\u0275\u0275inject"](d.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},QCn2:function(e,t,n){"use strict";n.r(t),n.d(t,"ProfileEditPageModule",(function(){return g}));var o=n("ofXK"),r=n("3Pt+"),i=n("TEn/"),s=n("tyNb"),a=n("mrSG"),l=n("NV1z"),c=n("fXoL"),d=n("eAEk"),u=n("qfBg"),m=n("pqyF"),h=n("lGQG");const p=[{path:"",component:(()=>{class e extends l.a{constructor(e,t,n,o,r,i){super(e),this.localStorage=t,this.userService=n,this.eventBusService=o,this.actionSheetController=r,this.authSrv=i}ionViewDidEnter(){return Object(a.a)(this,void 0,void 0,(function*(){}))}ngOnInit(){this.form=this.formBuilder.group({full_name:["",r.Validators.required],email:["",r.Validators.required],phone:["",r.Validators.required],cpf_cnpj:[""],password:[""],password2:[""],current_password:[""]}),this.load()}enableMenuSwipe(){return!1}load(){return Object(a.a)(this,void 0,void 0,(function*(){try{yield this.showLoadingView({showOverlay:!0}),this.tokens=yield this.localStorage.getTokens(),this.user=this.authSrv.userValue.user,this.form.get("full_name").setValue(this.user.full_name),this.form.get("email").setValue(this.user.email),this.form.get("phone").setValue(this.user.phone),this.form.get("cpf_cnpj").setValue(this.user.cpf_cnpj),this.showContentView()}catch(e){console.log("load",e),this.showToast("Ocorreu um erro desconhecido"),this.showContentView()}}))}onSubmit(){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.form.value;if(e.password==e.password2)try{const e={email:this.form.get("email").value,full_name:this.form.get("full_name").value,phone:this.form.get("phone").value,cpf_cnpj:this.form.get("cpf_cnpj").value,image:this.imagePerfil};this.form.get("password").value&&(e.password=this.form.get("password").value,e.current_password=this.form.get("current_password").value);const{success:t,data:n,error:o}=yield this.userService.edit(e);if(o&&!1===t)return console.log(o),this.showSweet("Oops",o.error.errors[0],"warning"),void this.showContentView();this.authSrv.setUserStorage(n.data),this.showSweet("Bom trabalho",n.message,"success"),this.goBack(),this.showContentView()}catch(t){console.log("onSubmit",t),this.showToast("Ocorreu um erro desconhecido"),this.showContentView()}else this.showToast("As senhas n\xe3o conferem")}))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](c.Injector),c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](u.a),c["\u0275\u0275directiveInject"](m.b),c["\u0275\u0275directiveInject"](i.ActionSheetController),c["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-profile-edit"]],features:[c["\u0275\u0275InheritDefinitionFeature"]],decls:57,vars:3,consts:[["slot","start"],["text","","defaultHref","/tabs/profile"],["text-center",""],[1,"heading"],["color","light"],[3,"formGroup","ngSubmit"],["lines","full",1,"ion-no-margin"],["lines","none"],["color","primary"],["lines","inset"],["color","medium","name","person-sharp","slot","start"],["position","stacked","color","primary"],["formControlName","full_name"],["color","medium","name","","slot","start"],["formControlName","cpf_cnpj","simpleMask","999.999.999-99"],["color","medium","name","mail-sharp","slot","start"],["formControlName","email"],["color","medium","name","call-sharp","slot","start"],["formControlName","phone","simpleMask","(99) 99999-9999"],["formControlName","current_password"],["formControlName","password"],["formControlName","password2"],["type","submit","expand","full",1,"ion-margin","botao-tema",3,"disabled"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"ion-header"),c["\u0275\u0275elementStart"](1,"ion-toolbar"),c["\u0275\u0275elementStart"](2,"ion-buttons",0),c["\u0275\u0275element"](3,"ion-back-button",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"ion-title",2),c["\u0275\u0275text"](5,"Meus dados"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"ion-content"),c["\u0275\u0275elementStart"](7,"section",3),c["\u0275\u0275elementStart"](8,"ion-text",4),c["\u0275\u0275elementStart"](9,"h3"),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"form",5),c["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),c["\u0275\u0275elementStart"](12,"ion-list",6),c["\u0275\u0275elementStart"](13,"ion-item",7),c["\u0275\u0275elementStart"](14,"ion-label",8),c["\u0275\u0275text"](15,"Informa\xe7\xe3o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"ion-item",9),c["\u0275\u0275element"](17,"ion-icon",10),c["\u0275\u0275elementStart"](18,"ion-label",11),c["\u0275\u0275text"](19,"Nome"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](20,"ion-input",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"ion-item",9),c["\u0275\u0275element"](22,"ion-icon",13),c["\u0275\u0275elementStart"](23,"ion-label",11),c["\u0275\u0275text"](24,"Cpf"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](25,"ion-input",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"ion-item",9),c["\u0275\u0275element"](27,"ion-icon",15),c["\u0275\u0275elementStart"](28,"ion-label",11),c["\u0275\u0275text"](29,"E-mail"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](30,"ion-input",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"ion-item",9),c["\u0275\u0275element"](32,"ion-icon",17),c["\u0275\u0275elementStart"](33,"ion-label",11),c["\u0275\u0275text"](34,"Telefone"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](35,"ion-input",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"ion-list",6),c["\u0275\u0275elementStart"](37,"ion-item",7),c["\u0275\u0275elementStart"](38,"ion-label",8),c["\u0275\u0275text"](39,"Senha"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"ion-item",9),c["\u0275\u0275element"](41,"ion-icon",10),c["\u0275\u0275elementStart"](42,"ion-label",11),c["\u0275\u0275text"](43,"Senha Atual"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](44,"ion-input",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"ion-item",9),c["\u0275\u0275element"](46,"ion-icon",10),c["\u0275\u0275elementStart"](47,"ion-label",11),c["\u0275\u0275text"](48,"Nova senha"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](49,"ion-input",20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"ion-item",9),c["\u0275\u0275element"](51,"ion-icon",15),c["\u0275\u0275elementStart"](52,"ion-label",11),c["\u0275\u0275text"](53,"Repetir senha"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](54,"ion-input",21),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](55,"ion-button",22),c["\u0275\u0275text"](56,"Salvar"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](10),c["\u0275\u0275textInterpolate"](null==t.user?null:t.user.full_name),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",t.form),c["\u0275\u0275advance"](44),c["\u0275\u0275property"]("disabled",t.form.invalid))},directives:[i.IonHeader,i.IonToolbar,i.IonButtons,i.IonBackButton,i.IonBackButtonDelegate,i.IonTitle,i.IonContent,i.IonText,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.FormGroupDirective,i.IonList,i.IonItem,i.IonLabel,i.IonIcon,i.IonInput,i.TextValueAccessor,r.NgControlStatus,r.FormControlName,i.IonButton],styles:["h1[_ngcontent-%COMP%]{padding:0;margin-top:0;color:#ea7637;font-weight:700}ion-content[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background:#fff}ion-item[_ngcontent-%COMP%]{--padding-start:10px;--padding-end:10px;--padding-bottom:15px}.heading[_ngcontent-%COMP%]{background:#fff;display:flex;flex-direction:column;align-items:center;align-self:center;justify-content:center;padding-bottom:10px;margin-bottom:10px}.heading[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#272727}.heading[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:0}.heading[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:75px;height:75px}"]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.j.forChild(p)],s.j]}),e})();var v=n("d2mR");let g=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.CommonModule,r.FormsModule,i.IonicModule,f,v.a,r.ReactiveFormsModule]]}),e})()},eAEk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("mrSG"),r=n("fXoL"),i=n("e8h1"),s=n("pqyF");let a=(()=>{class e{constructor(e,t){this.storage=e,this.eventBusService=t}clear(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.storage.remove("User"),yield this.storage.remove("Tokens")}))}setTokens(e){return this.storage.set("Tokens",JSON.stringify(e))}getTokens(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.storage.get("Tokens");return e?JSON.parse(e):null}))}setUser(e){return this.storage.set("User",JSON.stringify(e))}getUser(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.storage.get("User");return e?JSON.parse(e):null}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](i.b),r["\u0275\u0275inject"](s.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},pqyF:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var o=n("XNiG"),r=n("pLZG"),i=n("lJxs"),s=n("fXoL");let a=(()=>{class e{constructor(){this.subject=new o.a}on(e,t){return this.subject.pipe(Object(r.a)(t=>t.name===e),Object(i.a)(e=>e.value)).subscribe(t)}emit(e){this.subject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class l{constructor(e,t){this.name=e,this.value=t}}}}]);